---
// src/components/Front/Contents.astro
import { Image } from 'astro:assets';
import ArrowBtn from "../Parts/ArrowBtn.astro";
import ViewMoreBtn from "../Parts/ViewMoreBtn.astro";

import ja from "../../locales/ja/translation.json";
import en from "../../locales/en/translation.json";
import ko from "../../locales/ko/translation.json";

const locales = { ja, en, ko };
const defaultLang = 'ja';
const locale = (Astro.currentLocale as keyof typeof locales) || defaultLang;

const t = locales[locale].home;

const l = (path: string) => locale === defaultLang ? path : `/${locale}${path}`;

import image1 from "../../assets/images/front/image1.png";
import image2 from "../../assets/images/front/image2.png";
import arrow1 from "../../assets/images/front/arrow1.png";
import arrow2 from "../../assets/images/front/arrow2.png";
---

<div class="contents-wrapper md:py-32 relative overflow-hidden">
  <section class="front-container lg:mb-24" id="about">
    <div class="relative">
      <Image
        src={image1}
        alt=""
        class="section-img left z-20"
        data-animation="slideLeft"
      />
      <div class="contents-box left" data-animation="slideUp">
        <div class="message-inner max-w-[400px] ml-auto">
          <h2 class="section-title mb-7" data-animation="slideRight">about</h2>
          <p class="border-text mb-8">
            <span data-animation="slideLeft">{t.title_about}</span> </p>
          <p class="leading-loose mb-7" data-animation="slideUp">
            {t.content_about} </p>
          <ViewMoreBtn href={l("/about")} />
        </div>
      </div>
    </div>
    <Image
      src={arrow1}
      alt=""
      class="absolute top-[13%] -left-[50%] -z-10 -translate-y-1/2"
      data-animation="slideLeft"
    />
  </section>

  <section class="front-container md:mb-52" id="business">
    <div class="relative">
      <Image
        src={image2}
        alt=""
        class="section-img right z-20"
        data-animation="slideRight"
      />
      <div class="contents-box right" data-animation="slideUp">
        <div class="message-inner max-w-[30rem] ml-auto">
          <h2 class="section-title mb-7" data-animation="slideLeft">business</h2>
          <p class="border-text mb-10">
            <span class="inline-block" data-animation="slideRight">
              {t.title_business} </span>
          </p>
          <p class="leading-loose mb-8" data-animation="slideDown">
            {t.content_business} </p>
          <ViewMoreBtn href={l("/business")} />
        </div>
      </div>
    </div>
  </section>

  <section class="bg-[#F6F6F6] pt-20 md:py-20" id="company">
    <Image
      src={arrow2}
      alt=""
      class="mix-arrow"
      data-animation="slideRight"
    />
    <div class="front-container z-10">
      <h2 class="section-title mb-7 px-4 md:px-0" data-animation="slideUp">company</h2>
      <p class="border-text text-base sm:text-lg mb-16 translate-x-4">
        <span data-animation="slideLeft">{t.title_company}</span> </p>
      <div class="grid grid-cols-1">
        <div class="overview" data-animation="slideUp">
          <h3 class="text-36 font-mont font-bold">overview</h3>
          <p class="text-lg">{t.content_company}</p> <a href={l("/company")} class="btn"><ArrowBtn /></a>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
@reference "tailwindcss";
  .section-img {
    @apply w-full h-auto lg:absolute top-[80px] my-auto visible inline-block;
    &.right { @apply right-0 lg:max-w-[384px]; }
    &.left { @apply left-0 lg:max-w-[468px]; }
  }
  .contents-box {
    @apply bg-[#F6F6F6] min-h-[35rem] w-full lg:max-w-[766px] py-[80px] grid justify-start items-center px-4; 
    &.left { @apply lg:pl-[283px] ml-auto; }
    &.right { @apply lg:pl-[81px] mr-auto; }
  }
  .border-text {
    @apply relative text-lg font-bold [--border-position:2rem] md:[--border-position:4.875rem] ml-[calc(var(--border-position)+1rem)] md:ml-[calc(var(--border-position)+5%)];
    &::before {
      @apply content-[""] w-[var(--border-position)] h-px bg-[#020202] absolute -left-[calc(var(--border-position)+1rem)] top-0 bottom-0 m-auto;
    }
  }
  :is(.overview, .history) {
    @apply grid place-content-center h-[370px] w-full bg-center max-h-[370px] relative text-white text-center uppercase overflow-hidden;
    .btn {
      @apply mx-auto block mt-8 font-bold stroke-white transition-all duration-300;
      &:hover { @apply rotate-6 stroke-slate-200; }
    }
  }
  .overview {
    background-image: url('/images/image3.png');
    @apply bg-[#020202]/40 bg-cover bg-blend-darken;
  }
  .mix-arrow {
    @apply absolute bottom-[2.5rem] -right-[26rem] object-cover mix-blend-screen scale-[0.85];
  }
</style>